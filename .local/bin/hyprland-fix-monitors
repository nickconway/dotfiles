#!/usr/bin/env bash
set -euo pipefail

while true; do
    echo 'Checking...'
    if [[ "$(hyprctl monitors -j | jq -r '.[] | select(.name == "DP-3") | .width')" != 3840 ]]; then
        hyprctl keyword monitor "$(grep 'DP-1' .config/hypr/monitors.conf | sed 's/monitor = //g' | sed 's/preferred/1920x1080/g')"
        sleep 3
        hyprctl reload
    fi
    sleep 5
done
