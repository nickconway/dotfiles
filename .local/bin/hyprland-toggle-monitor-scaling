#!/usr/bin/env bash

config_file="$HOME/.config/hypr/monitors.conf"

monitor_config=$(sed -n '1p' "$config_file" | cut -d ' ' -f 3-  )
primay_monitor=$(echo "$monitor_config" | awk '{print $1}' | tr -d ",")

scale="$(hyprctl monitors -j | jq -r ".[] | select(.name == \"$primay_monitor\") | .scale")"

if [[ "$scale" == "1.00" ]]; then
    scale=1.25
else
    scale=1
fi

new_config="$(echo "$monitor_config" | sed "s/\S\+,/$scale,/4")"
hyprctl keyword monitor "$new_config"
