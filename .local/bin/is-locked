#!/usr/bin/env bash
set -euo pipefail

if { pgrep -afx "qs -c caelestia.*" &>/dev/null && [[ $(qs -c caelestia ipc call lock isLocked) == true ]]; } \
    || { pgrep -afx "qs -c noctalia.*" &>/dev/null && [[ $(qs -c noctalia ipc call lockScreen isLocked) == true ]]; } \
    || pidof hyprlock; then
    echo true
    exit 0
fi

echo false
exit 1
