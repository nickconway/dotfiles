#!/usr/bin/env bash
set -euo pipefail

if [[ -n "${LOG:-}" ]]; then
    exec &>"/tmp/$(basename "$0").log"
    set -x
fi

if [[ -n "${DEBUG_MODE:-}" ]]; then
    set -x
fi

if pgrep -afx "qs .*caelestia.*" &>/dev/null; then
    qs -c caelestia ipc call drawers toggle launcher
elif pgrep -afx "qs .*noctalia.*" &>/dev/null; then
    qs -c noctalia ipc call launcher toggle
elif pgrep -afx "qs .*dms.*" &>/dev/null; then
    qs -c dms ipc call launcher toggle
else
    rofi -show drun -config ~/.config/rofi/styles/style_2.rasi
fi
