AddKeysToAgent yes

Host github.com
    IdentityFile ~/.ssh/github_ed25519

Host desktop
    User nick
Match originalhost desktop exec "timeout 0.1 ping -c 1 10.0.0.2"
    Hostname 10.0.0.2
Match originalhost desktop
    Hostname 100.110.0.0

Host laptop
    User nick
Match originalhost laptop exec "timeout 0.1 ping -c 1 10.0.0.3"
    Hostname 10.0.0.3
Match originalhost laptop
    Hostname 100.110.0.1

Host steamdeck
    User deck
Match originalhost steamdeck exec "timeout 0.1 ping -c 1 10.0.0.5"
    Hostname 10.0.0.5
Match originalhost steamdeck
    Hostname 100.110.0.3

Host server
    User nick
Match originalhost server exec "timeout 0.1 ping -c 1 10.0.10.2"
    Hostname 10.0.10.2
Match originalhost server
    Hostname 100.90.230.2

Host macbook
    User nick
Match originalhost macbook exec "timeout 0.5 ping -c 1 10.0.10.4"
    Hostname 10.0.10.4
Match originalhost macbook
    Hostname 100.74.119.105

Host ansible
    User nick
Match originalhost ansible exec "timeout 0.5 ping -c 1 10.0.10.5"
    Hostname 10.0.10.5
Match originalhost ansible
    Hostname 100.73.4.10

Host subnet-router
    User nick
Match originalhost subnet-router exec "timeout 0.5 ping -c 1 10.0.10.20"
    Hostname 10.0.10.20
Match originalhost subnet-router
    Hostname 100.100.237.91

Host work-laptop
    User nick
    Hostname 100.77.8.64

Host octopi
    User nick
Match originalhost octopi exec "timeout 0.5 ping -c 1 10.0.10.3"
    Hostname 10.0.10.3
Match originalhost octopi
    Hostname 100.90.175.35

Host homeassistant
    User nick
Match originalhost homeassistant exec "timeout 0.5 ping -c 1 10.0.107.2"
    Hostname 10.0.107.2
Match originalhost homeassistant
    Hostname 100.100.157.60

Host pihole
    User nick
Match originalhost pihole exec "timeout 0.5 ping -c 1 10.0.10.10"
    Hostname 10.0.10.10
Match originalhost pihole
    Hostname 100.96.148.68

Host pve
    User nick
Match originalhost pve exec "timeout 0.5 ping -c 1 10.0.100.10"
    Hostname 10.0.100.10
Match originalhost pve
    Hostname 100.88.226.87

Host gaming-server
    User nick
Match originalhost gaming-server exec "timeout 0.5 ping -c 1 10.0.20.10"
    Hostname 10.0.20.10
Match originalhost gaming-server
    Hostname 100.81.242.104

Host alma
    User nick
    LocalForward 9443 0.0.0.0:9443
    LocalForward 4200 0.0.0.0:4200
    Hostname 192.168.220.137
Match originalhost alma exec "[[ ! -e ~/.work ]]"
    ProxyJump work-laptop

Host git.conway.dev
    IdentityFile ~/.ssh/gitea_ed25519
    Port 222
